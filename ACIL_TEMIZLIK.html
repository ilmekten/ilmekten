<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ACIL TEMÄ°ZLÄ°K</title>
    <style>
        body { font-family: Arial; padding: 50px; background: #f5f5f5; }
        .box { background: white; padding: 30px; border-radius: 10px; max-width: 600px; margin: 0 auto; }
        button { background: #dc143c; color: white; border: none; padding: 20px 40px; font-size: 18px; font-weight: bold; cursor: pointer; border-radius: 8px; width: 100%; margin: 10px 0; }
        button:hover { background: #a81030; }
        .result { margin-top: 20px; padding: 20px; border-radius: 8px; }
        .success { background: #d4edda; border: 2px solid #28a745; }
        .info { background: #d1ecf1; border: 2px solid #0c5460; }
    </style>
</head>
<body>
    <div class="box">
        <h1>ğŸš¨ ACIL LocalStorage TEMÄ°ZLÄ°K</h1>
        <p><strong>ÅU AN NE VAR?</strong></p>
        <div id="before" class="result info">Kontrol ediliyor...</div>
        
        <button onclick="doCleanup()">ğŸ—‘ï¸ HEMEN TEMÄ°ZLE!</button>
        
        <div id="after"></div>
    </div>

    <script>
        // Ã–nce ne var gÃ¶ster
        window.onload = function() {
            const products = localStorage.getItem('ilmekten_products');
            const beforeDiv = document.getElementById('before');
            
            if (products) {
                try {
                    const parsed = JSON.parse(products);
                    let html = `<strong>MEVCUT:</strong><br>${parsed.length} Ã¼rÃ¼n bulundu<br><br>`;
                    
                    parsed.forEach((p, i) => {
                        html += `${i+1}. ${p.name}<br>`;
                        if (p.images && p.images.length > 0) {
                            html += `   â†’ Resimler: ${p.images.join(', ')}<br>`;
                        }
                    });
                    
                    beforeDiv.innerHTML = html;
                } catch(e) {
                    beforeDiv.innerHTML = 'Hata: ' + e.message;
                }
            } else {
                beforeDiv.innerHTML = '<strong>LocalStorage zaten boÅŸ!</strong>';
            }
        };
        
        function doCleanup() {
            const afterDiv = document.getElementById('after');
            
            // TEMÄ°ZLE
            localStorage.clear();
            
            afterDiv.innerHTML = `
                <div class="result success">
                    <h2>âœ… TEMÄ°ZLENDÄ°!</h2>
                    <p><strong>ÅÄ°MDÄ°:</strong></p>
                    <ol>
                        <li>Bu pencereyi KAPAT</li>
                        <li>Ana sayfayÄ± aÃ§: <a href="https://ilmekten.github.io/ilmekten/">ilmekten.github.io/ilmekten/</a></li>
                        <li>CTRL + SHIFT + R bas</li>
                        <li>ArtÄ±k 404 hatasÄ± YOK!</li>
                    </ol>
                </div>
            `;
            
            // 3 saniye sonra ana sayfaya yÃ¶nlendir
            setTimeout(() => {
                if (confirm('Ana sayfaya yÃ¶nlendirileceksin. HazÄ±r mÄ±sÄ±n?')) {
                    window.location.href = 'https://ilmekten.github.io/ilmekten/';
                }
            }, 3000);
        }
    </script>
</body>
</html>
